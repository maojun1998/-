<head>
	<title>
		C:\Users\maojun\Desktop\Build\DataStruct\newsrc\src\main.c
	</title>
</head>

<body bgcolor="	#B0E0E6">

<code>
	<font color="black" face="Consolas">
#include&nbsp&ltstdio.h&gt

</br>
#include&nbsp"ars.h"

</br>
#include&nbsp"main.h"

</br>


</br>


</br>
int&nbspmain(void)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspint&nbspoption;

</br>
&nbsp&nbsp&nbsp&nbspInitLogFile();

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspmain()\n");

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspdo&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspOutputInfo();

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%d",&nbsp&option);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspswitch&nbsp(option)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp1&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp:

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspInsertAirlineList();

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp2&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp:

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspLoadFileRecordToMem();

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp3&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp:

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspQuery();

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp4&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp:

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspOrderTicket();

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp5&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp:

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspRefundTicket();

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp6&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp:

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspStoryRecordToFile();

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp7&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp:

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspOutputAllAirlineList();

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp8&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp:

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspModifyAirlineList();

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp0&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp:&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspdefault&nbsp:

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&nbspwhile&nbsp(option);

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspmain()\n");

</br>
&nbsp&nbsp&nbsp&nbspCloseLogFile();

</br>
}

</br>


</br>
static&nbspvoid&nbspOutputInfo(void)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspOutputInfo()\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("\n----------------------------\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("1----&nbsp录入航班信息.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("2----&nbsp加载航班信息.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("3----&nbsp查询航班信息.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("4----&nbsp客户订票.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("5----&nbsp客户退票.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("6----&nbsp保存到文件\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("7----&nbsp输出所有航班信息.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("8----&nbsp修改航班信息.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("0----&nbsp退出系统.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("----------------------------\n");

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspOutputInfo()\n");

</br>
}

</br>


</br>
static&nbspvoid&nbspOutputAllAirlineList(void)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspShowAllAirlineList();

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
}

</br>


</br>
static&nbspvoid&nbspInsertAirlineList(void)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspAirlineList&nbsp*pAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspint&nbspyears;

</br>
&nbsp&nbsp&nbsp&nbspint&nbspmonth;

</br>
&nbsp&nbsp&nbsp&nbspint&nbspdays;

</br>
&nbsp&nbsp&nbsp&nbspint&nbsphours;

</br>
&nbsp&nbsp&nbsp&nbspint&nbspminutes;

</br>
&nbsp&nbsp&nbsp&nbspchar&nbsp*buffer;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspInsertAirlineList()&nbsp\n");

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsppAirlineList&nbsp=&nbspAlloc_AirlineList();

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pAirlineList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("*&nbsp请输入航班起点站:&nbsp\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbsp&pAirlineList-&gtpAirline-&gtstartStationName[0]);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("*&nbsp请输入航班终点站:&nbsp\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbsp&pAirlineList-&gtpAirline-&gtendStationName[0]);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("*&nbsp请输入航班号:(主码)&nbsp\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbsp&pAirlineList-&gtpAirline-&gtflightNo[0]);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("*&nbsp请输入飞机号:&nbsp\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbsp&pAirlineList-&gtpAirline-&gtairplaneNo[0]);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>


</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("*&nbsp请输入最大乘客人数:&nbsp\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%d",&nbsp&pAirlineList-&gtpAirline-&gtlimitPeopleNo);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtlastTicketNo&nbsp=&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtlimitPeopleNo;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("*&nbsp请输入航班起飞时间(2018-3-8-12:30表示2018年8月12日12点30):&nbsp\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%d-%d-%d-%d:%d",&nbsp&years,&nbsp&month,&nbsp&days,&nbsp&hours,&nbsp&minutes);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_year&nbsp=&nbspyears&nbsp-&nbsp1900;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_mon&nbsp=&nbspmonth&nbsp+&nbsp1;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_mday&nbsp=&nbspdays;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_hour&nbsp=&nbsphours;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_min&nbsp=&nbspminutes;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_sec&nbsp=&nbsp0;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("*&nbsp请输入航班到达时间(2018-3-8-12:30表示2018年8月12日12点30):&nbsp\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%d-%d-%d-%d:%d",&nbsp&years,&nbsp&month,&nbsp&days,&nbsp&hours,&nbsp&minutes);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_year&nbsp=&nbspyears&nbsp-&nbsp1900;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_mon&nbsp=&nbspmonth&nbsp+&nbsp1;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_mday&nbsp=&nbspdays;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_hour&nbsp=&nbsphours;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_min&nbsp=&nbspminutes;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_sec&nbsp=&nbsp0;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(CheckAirlineListValid(pAirlineList,&nbsp&buffer))&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspAddArilineListToGlobalList(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("添加航线成功\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintlog("添加航线成功\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&nbspelse&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspFree_AirlineList(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("添加航线失败\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintlog("添加航线失败\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspInsertAirlineList()&nbsp\n");

</br>
}

</br>


</br>
void&nbspModifyAirlineList(

</br>
&nbsp&nbsp&nbsp&nbspvoid

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspchar&nbspflightNo[20];

</br>
&nbsp&nbsp&nbsp&nbspAirlineList&nbsp*pAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspint&nbspoption;

</br>
&nbsp&nbsp&nbsp&nbspint&nbspyears;

</br>
&nbsp&nbsp&nbsp&nbspint&nbspmonth;

</br>
&nbsp&nbsp&nbsp&nbspint&nbspdays;

</br>
&nbsp&nbsp&nbsp&nbspint&nbsphours;

</br>
&nbsp&nbsp&nbsp&nbspint&nbspminutes;

</br>
&nbsp&nbsp&nbsp&nbspint&nbspmaxPeople;

</br>
&nbsp&nbsp&nbsp&nbspdo&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("请输入要修改的航班号:\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbspflightNo);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspwhile&nbsp(QueryByAirlineListFlightNo(flightNo,&nbsp&pAirlineList))&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowAirlineList(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("\n----------------------------\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("1----&nbsp修改航班起点站.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("2----&nbsp修改航班终点站.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("3----&nbsp修改航班飞机号.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("4----&nbsp修改航班起飞时间.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("5----&nbsp修改航班到达时间.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("6----&nbsp修改航班最大乘客人数.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("0----&nbsp退出当前界面.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("----------------------------\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%d",&nbsp&option);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspswitch(option)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp1&nbsp:&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("*&nbsp请输入航班起点站:&nbsp\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbsp&pAirlineList-&gtpAirline-&gtstartStationName[0]);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp2&nbsp:&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("*&nbsp请输入航班终点站:&nbsp\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbsp&pAirlineList-&gtpAirline-&gtendStationName[0]);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp3&nbsp:&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("*&nbsp请输入飞机号:&nbsp\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbsp&pAirlineList-&gtpAirline-&gtairplaneNo[0]);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp4&nbsp:&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("*&nbsp请输入航班起飞时间(2018-3-8-12:30表示2018年8月12日12点30):&nbsp\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%d-%d-%d-%d:%d",&nbsp&years,&nbsp&month,&nbsp&days,&nbsp&hours,&nbsp&minutes);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_year&nbsp=&nbspyears&nbsp-&nbsp1900;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_mon&nbsp=&nbspmonth&nbsp+&nbsp1;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_mday&nbsp=&nbspdays;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_hour&nbsp=&nbsphours;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_min&nbsp=&nbspminutes;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_sec&nbsp=&nbsp0;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp5&nbsp:&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("*&nbsp请输入航班到达时间(2018-3-8-12:30表示2018年8月12日12点30):&nbsp\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%d-%d-%d-%d:%d",&nbsp&years,&nbsp&month,&nbsp&days,&nbsp&hours,&nbsp&minutes);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_year&nbsp=&nbspyears&nbsp-&nbsp1900;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_mon&nbsp=&nbspmonth&nbsp+&nbsp1;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_mday&nbsp=&nbspdays;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_hour&nbsp=&nbsphours;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_min&nbsp=&nbspminutes;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_sec&nbsp=&nbsp0;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp6&nbsp:&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("*&nbsp请输入最大乘客人数:&nbsp\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%d",&nbsp&maxPeople);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(maxPeople&nbsp&gt=&nbsppAirlineList-&gtpAirline-&gtlimitPeopleNo&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp-&nbsppAirlineList-&gtpAirline-&gtlastTicketNo)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtlastTicketNo&nbsp+=&nbspmaxPeople&nbsp-&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtlimitPeopleNo;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtlimitPeopleNo&nbsp=&nbspmaxPeople;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("修改最大乘客人数成功\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&nbspelse&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("修改最大乘客人数失败,&nbsp最大乘客数小于当前已经购买的票数.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp0&nbsp:

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspdefault&nbsp:&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(pAirlineList&nbsp==&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("不存在该航班\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&nbspwhile&nbsp(pAirlineList&nbsp!=&nbspNULL);

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
}

</br>


</br>
static&nbspvoid&nbspQuery(void)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspSTATUS&nbspstatus;

</br>
&nbsp&nbsp&nbsp&nbspint&nbspoption;

</br>
&nbsp&nbsp&nbsp&nbspAirlineList&nbsp*pAirlineList;

</br>
&nbsp&nbsp&nbsp&nbspchar&nbspflightNo[20];

</br>
&nbsp&nbsp&nbsp&nbspchar&nbspstartStationName[20];&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspchar&nbspendStationName[20];&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspdo&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("\n----------------------------\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("1----&nbsp按照航班号查询.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("2----&nbsp按照起点站终点站查询.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("0----&nbsp退出当前界面.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("----------------------------\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%d",&nbsp&option);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspswitch&nbsp(option)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp1&nbsp:&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("请输入航班号:\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbspflightNo);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspstatus&nbsp=&nbspQueryByAirlineListFlightNo(flightNo,&nbsp&pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(status)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowAirlineList(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&nbspelse&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("没有找到该航班\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp2&nbsp:&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("请输入起点站:\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbspstartStationName);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("请输入终点站:\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbspendStationName);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspstatus&nbsp=&nbspQueryByAirlineListStartAndEnd(

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspstartStationName,

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspendStationName,

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&pAirlineList

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(status)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowAllAirlineListByStation(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&nbspelse&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("没有找到该航班\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspFreeALLAirlineListByStation(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcase&nbsp0&nbsp:

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp}&nbspwhile&nbsp(option&nbsp!=&nbsp0);

</br>
}

</br>


</br>
static&nbspvoid&nbspOrderTicket(void)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspint&nbspoption;

</br>
&nbsp&nbsp&nbsp&nbspchar&nbspflightNo[20];

</br>
&nbsp&nbsp&nbsp&nbspAirlineList&nbsp*pAirlineList;

</br>
&nbsp&nbsp&nbsp&nbspOrderList&nbsp*pOrderList;

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderList&nbsp*pWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspchar&nbspgoon_orderflag;

</br>
&nbsp&nbsp&nbsp&nbspchar&nbspisAddWait;

</br>
&nbsp&nbsp&nbsp&nbspdo&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("\n----------------------------\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("1----&nbsp订票.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("0----&nbsp退出当前界面.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("----------------------------\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%d",&nbsp&option);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(option&nbsp==&nbsp1)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("请输入需要订票的航班号:\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbspflightNo);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(!QueryByAirlineListFlightNo(flightNo,&pAirlineList))&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("没有查到该航班\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcontinue;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowAirlineList(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("\n**乘客信息**:\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowAllOrderList(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("\n**排队等票乘客信息**:\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowAllWaitOrderList(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("\n\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspdo&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspgoon_orderflag&nbsp=&nbsp'N';

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderList&nbsp=&nbspAlloc_OrderList();

</br>


</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(pOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("请输入需要订票的用户名:\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbsp&pOrderList-&gtcustomer.customerName[0]);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("请输入需要订票的用户身份证(主码):\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbsp&pOrderList-&gtcustomer.identyNo[0]);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("请输入需要订票的数量:\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%d",&nbsp&pOrderList-&gtcustomer.needSeatNo);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(pAirlineList-&gtpAirline-&gtlastTicketNo&nbsp&gt=&nbsppOrderList-&gtcustomer.needSeatNo)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(AddOrderList(pOrderList,&nbsppAirlineList))&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("订票成功\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&nbspelse&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspisAddWait&nbsp=&nbsp'N';

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("票数不足\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("是否需要加入等待退票队伍(Y:是,&nbspN:否):\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%c",&nbsp&isAddWait);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(isAddWait&nbsp==&nbsp'Y')&nbsp&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppWaitOrderList&nbsp=&nbsp(WaitOrderList&nbsp*)pOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspAddWaitOrderList(pWaitOrderList,&nbsppAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("加入退票队伍成功\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&nbspelse&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspFree_OrderList(pOrderList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("是否继续订票(Y:是,&nbspN:否)\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbsp&goon_orderflag);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&nbspwhile&nbsp(goon_orderflag&nbsp==&nbsp'Y');&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp}&nbspwhile&nbsp(option&nbsp!=&nbsp0);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
}

</br>
static&nbspvoid&nbspRefundTicket(void)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspint&nbspoption;

</br>
&nbsp&nbsp&nbsp&nbspchar&nbspflightNo[20];

</br>
&nbsp&nbsp&nbsp&nbspchar&nbspidentyNo[20];

</br>
&nbsp&nbsp&nbsp&nbspAirlineList&nbsp*pAirlineList;

</br>
&nbsp&nbsp&nbsp&nbspOrderList&nbsp*pOrderList;

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderList&nbsp*pWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspchar&nbspgoon_orderflag;

</br>
&nbsp&nbsp&nbsp&nbspchar&nbspisAddWait;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspdo&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("\n----------------------------\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("1----&nbsp退票.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("0----&nbsp退出当前界面.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("----------------------------\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%d",&nbsp&option);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(option&nbsp==&nbsp1)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspdo&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("请输入需要退票的航班号:\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbspflightNo);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(!QueryByAirlineListFlightNo(flightNo,&pAirlineList))&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("没有查到该航班\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcontinue;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspCheckWaitor(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowAirlineList(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("\n**乘客信息**:\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowAllOrderList(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("\n**排队等票乘客信息**:\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowAllWaitOrderList(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("\n\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreRefoud:&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp//&nbspthis&nbsplable&nbspis&nbspfor&nbspgoto&nbsphere&nbspand&nbspreRefoud.

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("\n请输入需要退票的乘客的身份证号:\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspscanf("%s",&nbsp&identyNo);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfflush(stdin);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(QueryOrderListByIdentyNo(identyNo,&nbsppAirlineList,&nbsp&pOrderList))&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("\n\n查到待退票的乘客信息:\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowOrderList(pOrderList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(RemovByPorderList(pOrderList,&nbsppAirlineList,&nbspMM_FREE_FLAG))&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("退票成功");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&nbspelse&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("退票失败\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspCheckWaitor(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&nbspelse&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("没有查到该乘客信息.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspgoto&nbspreRefoud;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbreak;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&nbspwhile&nbsp(1);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp}&nbspwhile&nbsp(option&nbsp!=&nbsp0);

</br>
}

</br>


</br>
static&nbspvoid&nbspCheckWaitor(AirlineList&nbsp*pAirlineList)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspOrderList&nbsp*pOrderList;

</br>
&nbsp&nbsp&nbsp&nbspOrderListHead&nbsp*pOrderListHead;

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderList&nbsp*pWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderListHead&nbsp*pWaitOrderListHead;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsppOrderListHead&nbsp=&nbsppAirlineList-&gtpAirline-&gtpOrderListHead;

</br>
&nbsp&nbsp&nbsp&nbsppWaitOrderListHead&nbsp=&nbsppAirlineList-&gtpAirline-&gtpWaitOrderListHead;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderListHeadInitPistion(pWaitOrderListHead);

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspwhile&nbsp(pWaitOrderList&nbsp=&nbspGetNextWaitOrderList(pWaitOrderListHead))&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderList&nbsp=&nbsp(OrderList&nbsp*)pWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(AddOrderList(pOrderList,&nbsppAirlineList))&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("\n排队用户办理订票成功,详细信息:\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowOrderList(pOrderList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(!RemovByPwaitOrderList(pWaitOrderList,&nbsppAirlineList,&nbspMM_NOFREE_FLAG))&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintlog("Sytem&nbsperror:&nbspRemovByPwaitOrderList&nbspis&nbspNOT&nbspFind&nbspthe&nbsppWaitOrderList\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderList-&gtpNextOrderList&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
}

</br>
static&nbspvoid&nbspLoadFileRecordToMem(void)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
}

</br>
static&nbspvoid&nbspStoryRecordToFile(void)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
}
</br>

	</font>
</code>

</body>
