<head>
	<title>
		C:\Users\maojun\Desktop\Build\DataStruct\newsrc\src\ars.c
	</title>
</head>

<body bgcolor="	#B0E0E6">

<code>
	<font color="black" face="Consolas">
#include&nbsp&ltstdio.h&gt

</br>
#include&nbsp&ltstdlib.h&gt

</br>
#include&nbsp&ltstring.h&gt

</br>
#include&nbsp&lterrno.h&gt

</br>
#include&nbsp&lttime.h&gt

</br>


</br>
#include&nbsp"ars.h"

</br>


</br>


</br>
//logFile&nbspHandle.

</br>
static&nbspFILE&nbsp*logFile;

</br>


</br>
void&nbspInitLogFile(

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspvoid&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>


</br>
{

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp((logFile&nbsp=&nbspfopen("LOG.log","w"))&nbsp==&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintf("InitLogFile()&nbspFalse\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspexit(-1);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Init&nbspLOG&nbspfile.\n");

</br>
}

</br>


</br>
void&nbspCloseLogFile&nbsp(

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspvoid&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>


</br>
{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(logFile&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintlog("LOG&nbspFile&nbspclose.\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfclose(logFile);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
}

</br>


</br>
void&nbspprintlog(

</br>
&nbsp&nbsp&nbsp&nbspconst&nbspchar&nbsp*str

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>


</br>
{

</br>
&nbsp&nbsp&nbsp&nbspstatic&nbsptime_t&nbsptimes;

</br>
&nbsp&nbsp&nbsp&nbspstatic&nbspstruct&nbsptm&nbsp*localTimes;

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(logFile&nbsp==&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspInitLogFile();

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsptime(&times);

</br>
&nbsp&nbsp&nbsp&nbsplocalTimes&nbsp=&nbsplocaltime&nbsp(&times);

</br>
&nbsp&nbsp&nbsp&nbspfprintf(logFile,&nbsp"*&nbsp%d/%d/%d&nbsp%d:%d:%d&nbsp&nbsp&nbsp&nbsp:&nbsp",localTimes-&gttm_year+1900,&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsplocalTimes-&gttm_mon&nbsp+1&nbsp,&nbsplocalTimes-&gttm_mday,&nbsplocalTimes-&gttm_hour,&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsplocalTimes-&gttm_min,&nbsplocalTimes-&gttm_sec);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspfprintf(logFile,&nbspstr);

</br>
&nbsp&nbsp&nbsp&nbspfflush(logFile);&nbsp&nbsp&nbsp

</br>
}

</br>


</br>


</br>
//&nbspglobal&nbspAirlineListHead

</br>
static&nbspAirlineListHead&nbspglobalAirLineListHead;

</br>


</br>


</br>
void&nbspInitGlobalAirLineListHead(

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspvoid

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspglobalAirLineListHead.pAirlineListHead&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbspglobalAirLineListHead.AirlineNo&nbsp=&nbsp0;

</br>
}

</br>


</br>
void&nbspAddArilineListToGlobalList(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspAirlineList&nbsp*pAirlineList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspAirlineList&nbsp*newAirlineList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspAddArilineToList()\n");

</br>


</br>
&nbsp&nbsp&nbsp&nbspnewAirlineList&nbsp=&nbspglobalAirLineListHead.pAirlineListHead;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspglobalAirLineListHead.AirlineNo&nbsp+=&nbsp1;

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(newAirlineList&nbsp==&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspglobalAirLineListHead.pAirlineListHead&nbsp=&nbsppAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbsp;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspwhile&nbsp(newAirlineList-&gtpNextAirlineList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspnewAirlineList&nbsp=&nbspnewAirlineList-&gtpNextAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspnewAirlineList-&gtpNextAirlineList&nbsp=&nbsppAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspAddArilineToList()\n");

</br>
}

</br>


</br>
AirlineList&nbsp*Alloc_AirlineList(

</br>
&nbsp&nbsp&nbsp&nbspvoid

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspAirlineList&nbsp*pAirlineList;

</br>
&nbsp&nbsp&nbsp&nbspAirline&nbsp*pAirline;

</br>
&nbsp&nbsp&nbsp&nbspOrderListHead&nbsp*pOrderListHead;

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderListHead&nbsp*pWaitOrderListHead;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspAlloc_AirlineList()\n");

</br>
&nbsp&nbsp&nbsp&nbsppAirlineList&nbsp=&nbsp(AirlineList&nbsp*)malloc(sizeof(AirlineList));

</br>
&nbsp&nbsp&nbsp&nbsppAirline&nbsp=&nbsp(Airline&nbsp*)malloc(sizeof(Airline));

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsppOrderListHead&nbsp=&nbspAlloc_OrderListHead();

</br>
&nbsp&nbsp&nbsp&nbsppWaitOrderListHead&nbsp=&nbspAlloc_WaitOrderListHead();

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pAirlineList&nbsp&&&nbsppAirline&nbsp&&&nbsppOrderListHead&nbsp&&&nbsppWaitOrderListHead)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirline-&gtpOrderListHead&nbsp=&nbsppOrderListHead;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirline-&gtpWaitOrderListHead&nbsp=&nbsppWaitOrderListHead;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline&nbsp=&nbsppAirline;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpNextAirlineList&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbsp}&nbspelse&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfree(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfree(pAirline);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfree(pOrderListHead);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfree(pWaitOrderListHead);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspAlloc_AirlineList()\n");

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbsppAirlineList;

</br>
}

</br>
static&nbspconst&nbspchar&nbsperrorMessage[][40]&nbsp=&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp{"startStationName&nbspis&nbspOverFllow.\n"},

</br>
&nbsp&nbsp&nbsp&nbsp{"endStationName&nbspis&nbspOverFllow.\n"},

</br>
&nbsp&nbsp&nbsp&nbsp{"departuresTime&nbspis&nbspOverFllow.\n"},

</br>
&nbsp&nbsp&nbsp&nbsp{"airplaneNo&nbspis&nbspOverFllow.\n"},

</br>
&nbsp&nbsp&nbsp&nbsp{"limitPeopleNo&nbspis&nbspnot&nbspequl&nbsplastTicketNo\n"},

</br>
&nbsp&nbsp&nbsp&nbsp{"The&nbspAirList&nbspis&nbspValid.\n"}

</br>
};

</br>


</br>
STATUS&nbspCheckAirlineListValid(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbsp&nbspAirlineList&nbsp*pAirlineList,

</br>
&nbsp&nbsp&nbsp&nbsp_OUT&nbspconst&nbspchar&nbsp**buffer

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
/*++

</br>


</br>
Routine&nbspDescription:

</br>


</br>
&nbsp&nbsp&nbsp&nbspThis&nbspfunction&nbspcheck&nbspthe&nbspAirlineList&nbspargument&nbspvalid.&nbspif&nbspthe&nbspAirlineList&nbspis

</br>
&nbsp&nbsp&nbsp&nbspinvalid,&nbspthe&nbspargument&nbspbuffer&nbspset&nbspthe&nbsperror&nbspmessage,&nbspif&nbspAirlineList&nbspis&nbsp&nbsp

</br>


</br>
Arguments:

</br>


</br>
&nbsp&nbsp&nbsp&nbsppAirlineList&nbsp-&nbspa&nbsppointer&nbspto&nbspa&nbspbe&nbspdetected&nbspAirlineList&nbspObject.

</br>
&nbsp&nbsp&nbsp&nbspbuffer&nbsp-&nbspa&nbsppointer&nbspto&nbsperror&nbspmessage,&nbspif&nbspreturn&nbspSTATUS_OK,&nbspthis&nbsppointer&nbspis&nbspNULL.

</br>


</br>


</br>
Return&nbspValue:

</br>


</br>
&nbsp&nbsp&nbsp&nbspSTATUS_OK&nbspis&nbspstandfor&nbspthe&nbspAirlineList&nbspis&nbspvalid.

</br>
&nbsp&nbsp&nbsp&nbspSTATUS_FALSE&nbspis&nbspstandfor&nbspthe&nbspAirlineList&nbspis&nbspinvalid.

</br>


</br>
--*/

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspCheckAirlineListValid()\n");

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspCheckAirlineListValid()\n");

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(strlen(&pAirlineList-&gtpAirline-&gtstartStationName[0])&nbsp&gt&nbsp19)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp*buffer&nbsp=&nbsperrorMessage[0];

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_FALSE;

</br>
&nbsp&nbsp&nbsp&nbsp}&nbspelse&nbspif&nbsp(strlen(&pAirlineList-&gtpAirline-&gtendStationName[0])&nbsp&gt&nbsp19)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp*buffer&nbsp=&nbsperrorMessage[1];

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_FALSE;

</br>
&nbsp&nbsp&nbsp&nbsp}&nbspelse&nbspif&nbsp(strlen(&pAirlineList-&gtpAirline-&gtairplaneNo[0])&nbsp&gt&nbsp19)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp*buffer&nbsp=&nbsperrorMessage[3];

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_FALSE;

</br>
&nbsp&nbsp&nbsp&nbsp}&nbspelse&nbspif&nbsp(pAirlineList-&gtpAirline-&gtlimitPeopleNo&nbsp!=&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtlastTicketNo)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp*buffer&nbsp=&nbsperrorMessage[4];

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_FALSE;

</br>
&nbsp&nbsp&nbsp&nbsp}&nbspelse&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp*buffer&nbsp=&nbsperrorMessage[5];

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_OK;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_OK;

</br>
}

</br>


</br>
void&nbspFree_AirlineList(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspAirlineList&nbsp*pAirlineList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspOrderList&nbsp*pOrderList;

</br>
&nbsp&nbsp&nbsp&nbspOrderList&nbsp*pNewOrderList;

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderList&nbsp*pWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderList&nbsp*pNewWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspFree_AirlineList()\n");

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pAirlineList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(pAirlineList-&gtpAirline&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif(pAirlineList-&gtpAirline-&gtpOrderListHead&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderList&nbsp=&nbsppAirlineList-&gtpAirline-&gtpOrderListHead-&gtpOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppWaitOrderList&nbsp=&nbsppAirlineList-&gtpAirline-&gtpWaitOrderListHead-&gtpWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspwhile&nbsp(pOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewOrderList&nbsp=&nbsppOrderList-&gtpNextOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspFree_OrderList(pOrderList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderList&nbsp=&nbsppNewOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspwhile&nbsp(pWaitOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewWaitOrderList&nbsp=&nbsppWaitOrderList-&gtpNextWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspFree_OrderList(pWaitOrderList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppWaitOrderList&nbsp=&nbsppNewWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfree(pAirlineList-&gtpAirline-&gtpOrderListHead);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfree(pAirlineList-&gtpAirline-&gtpWaitOrderListHead);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfree(pAirlineList-&gtpAirline);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfree(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspFree_AirlineList()\n");

</br>
}

</br>


</br>
void&nbspShowAllAirlineList(

</br>
&nbsp&nbsp&nbsp&nbspvoid

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>


</br>
{

</br>
&nbsp&nbsp&nbsp&nbspAirlineList&nbsp*pNewAirlineList;

</br>
&nbsp&nbsp&nbsp&nbspint&nbspAirlineNo;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspShowAllAirlineList()\n");

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsppNewAirlineList&nbsp=&nbspglobalAirLineListHead.pAirlineListHead;

</br>
&nbsp&nbsp&nbsp&nbspfor&nbsp(AirlineNo&nbsp=&nbsp0;&nbspAirlineNo&nbsp&lt&nbspglobalAirLineListHead.AirlineNo;&nbspAirlineNo++)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowAirlineList(pNewAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewAirlineList&nbsp=&nbsppNewAirlineList-&gtpNextAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspShowAllAirlineList()\n");

</br>
}

</br>


</br>
void&nbspShowAirlineList(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspAirlineList&nbsp*pAirlineList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspShowAirlineList()\n");

</br>
&nbsp&nbsp&nbsp&nbspprintf(

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp"\n*&nbsp航班号:&nbsp%s,飞机号:&nbsp%s,&nbsp起点站:&nbsp%s,&nbsp终点站:&nbsp%s\n",

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&pAirlineList-&gtpAirline-&gtflightNo[0],&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&pAirlineList-&gtpAirline-&gtairplaneNo[0],

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&pAirlineList-&gtpAirline-&gtstartStationName[0],&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&pAirlineList-&gtpAirline-&gtendStationName[0]

</br>
&nbsp&nbsp&nbsp&nbsp);

</br>
&nbsp&nbsp&nbsp&nbspprintf(

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp"*&nbsp起飞时间:&nbsp%d年-%d月-%d日-%d:%d\n",

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_year&nbsp+&nbsp1900,

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_mon&nbsp+&nbsp1,

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_mday,

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_hour,

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtdepartureTime.tm_min

</br>
&nbsp&nbsp&nbsp&nbsp);

</br>
&nbsp&nbsp&nbsp&nbspprintf(

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp"*&nbsp到达时间:&nbsp%d年-%d月-%d日-%d:%d\n",

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_year&nbsp+&nbsp1900,

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_mon&nbsp+&nbsp1,

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_mday,

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_hour,

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtarrivalTime.tm_min

</br>
&nbsp&nbsp&nbsp&nbsp);

</br>
&nbsp&nbsp&nbsp&nbspprintf(

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp"*&nbsp最大乘客数:&nbsp%d,&nbsp剩余票数:&nbsp%d.&nbsp\n\n",

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtlimitPeopleNo,

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtlastTicketNo

</br>
&nbsp&nbsp&nbsp&nbsp);

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspShowAirlineList()\n");

</br>
}

</br>


</br>
STATUS&nbspQueryByAirlineListFlightNo(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspchar&nbsp*flightNo,

</br>
&nbsp&nbsp&nbsp&nbsp_OUT&nbspAirlineList&nbsp**pPAirlineList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspAirlineList&nbsp*pAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspQueryByAirlineListFlightNo()\n");

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsppAirlineList&nbsp=&nbspglobalAirLineListHead.pAirlineListHead;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspwhile&nbsp(pAirlineList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(strcmp(flightNo,&nbsp&pAirlineList-&gtpAirline-&gtflightNo[0])&nbsp==&nbsp0)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp*pPAirlineList&nbsp=&nbsppAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspQueryByAirlineListFlightNo()\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_OK;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList&nbsp=&nbsppAirlineList-&gtpNextAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp*pPAirlineList&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspQueryByAirlineListFlightNo()\n");

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_FALSE;

</br>
}

</br>


</br>
STATUS&nbspRemoveByAirlineListFlightNo(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspchar&nbsp*flightNo

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspAirlineList&nbsp*pAirlineList;

</br>
&nbsp&nbsp&nbsp&nbspAirlineList&nbsp*pNewAirlineList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspRemoveByAirlineListFlightNo()\n");

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsppAirlineList&nbsp=&nbspglobalAirLineListHead.pAirlineListHead;

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pAirlineList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(strcmp(flightNo,&nbsp&pAirlineList-&gtpAirline-&gtflightNo[0])&nbsp==&nbsp0)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspglobalAirLineListHead.pAirlineListHead&nbsp=&nbsppAirlineList-&gtpNextAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspFree_AirlineList(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspgoto&nbspexit_normol_lable;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspwhile&nbsp(pAirlineList-&gtpNextAirlineList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(strcmp(flightNo,&pAirlineList-&gtpNextAirlineList

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp-&gtpAirline-&gtflightNo[0])&nbsp==&nbsp0)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewAirlineList&nbsp=&nbsppAirlineList-&gtpNextAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpNextAirlineList&nbsp=&nbsppNewAirlineList-&gtpNextAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspFree_AirlineList(pNewAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspgoto&nbspexit_normol_lable;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList&nbsp=&nbsppAirlineList-&gtpNextAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspgoto&nbspexit_notnormol_lable;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("pAirlineList&nbsp:&nbspNULL");

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspexit_notnormol_lable:

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspRemoveByAirlineListFlightNo()\n");

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_FALSE;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspexit_normol_lable:

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspRemoveByAirlineListFlightNo()\n");

</br>
&nbsp&nbsp&nbsp&nbspglobalAirLineListHead.AirlineNo&nbsp-=&nbsp1;

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_OK;

</br>
}

</br>


</br>
STATUS&nbspQueryByAirlineListStartAndEnd(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspchar&nbsp*startStationName,

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspchar&nbsp*endStationName,

</br>
&nbsp&nbsp&nbsp&nbsp_OUT&nbspAirlineList&nbsp**pPAirlineList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspAirlineList&nbsp*pAirlineList;

</br>


</br>
&nbsp&nbsp&nbsp&nbspAirlineList&nbsp*pNewAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspSTATUS&nbspstatus&nbsp=&nbspSTATUS_FALSE;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>


</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsppNewAirlineList&nbsp=&nbsp(AirlineList&nbsp*)malloc(sizeof(AirlineList));

</br>
&nbsp&nbsp&nbsp&nbsppNewAirlineList-&gtpAirline&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbsppNewAirlineList-&gtpNextAirlineList&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbsp*pPAirlineList&nbsp=&nbsppNewAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspQueryByAirlineListFlightNo()\n");

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsppAirlineList&nbsp=&nbspglobalAirLineListHead.pAirlineListHead;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspwhile&nbsp(pAirlineList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(strcmp(startStationName,&nbsp&pAirlineList-&gtpAirline-&gtstartStationName[0])&nbsp==&nbsp0&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&&&nbspstrcmp(endStationName,&nbsp&pAirlineList-&gtpAirline-&gtendStationName[0])&nbsp==&nbsp0)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewAirlineList-&gtpAirline&nbsp=&nbsppAirlineList-&gtpAirline;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewAirlineList&nbsp=&nbsppNewAirlineList-&gtpNextAirlineList&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp=&nbsp(AirlineList&nbsp*)malloc(sizeof(AirlineList));

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewAirlineList-&gtpAirline&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewAirlineList-&gtpNextAirlineList&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspstatus&nbsp=&nbspSTATUS_OK;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList&nbsp=&nbsppAirlineList-&gtpNextAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspQueryByAirlineListFlightNo()\n");

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbspstatus;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
}

</br>
void&nbspShowAllAirlineListByStation(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspAirlineList&nbsp*pAirlineList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspShowAllAirlineListByStation()\n");

</br>
&nbsp&nbsp&nbsp&nbspwhile&nbsp(pAirlineList&nbsp!=&nbspNULL&nbsp&&&nbsppAirlineList-&gtpAirline&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowAirlineList(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList&nbsp=&nbsppAirlineList-&gtpNextAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspShowAllAirlineListByStation()\n");

</br>
}

</br>


</br>
void&nbspFreeALLAirlineListByStation(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspAirlineList&nbsp*pAirlineList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspAirlineList&nbsp*pNewAirlineList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspFreeALLAirlineListByStation\n");

</br>
&nbsp&nbsp&nbsp&nbspwhile&nbsp(pAirlineList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewAirlineList&nbsp=&nbsppAirlineList-&gtpNextAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfree(pAirlineList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList&nbsp=&nbsppNewAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspFreeALLAirlineListByStation\n");

</br>
}

</br>


</br>
OrderListHead&nbsp*Alloc_OrderListHead(

</br>
&nbsp&nbsp&nbsp&nbspvoid

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspOrderListHead&nbsp*pOrderListHead;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspAlloc_OrderListHead()\n");

</br>
&nbsp&nbsp&nbsp&nbsppOrderListHead&nbsp=&nbsp(OrderListHead&nbsp*)malloc(sizeof(OrderListHead));

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pOrderListHead&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderListHead-&gtpOrderList&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderListHead-&gtorderNo&nbsp=&nbsp0;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderListHead-&gtcurrent&nbsp=&nbsp0;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderListHead-&gtpCurrentOrderList&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspAlloc_OrderListHead()\n");

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbsppOrderListHead;

</br>
}

</br>


</br>
WaitOrderListHead&nbsp*Alloc_WaitOrderListHead(

</br>
&nbsp&nbsp&nbsp&nbspvoid

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderListHead&nbsp*pWaitOrderListHead;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspAlloc_WaitOrderListHead()\n");

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsppWaitOrderListHead&nbsp=&nbsp(WaitOrderListHead&nbsp*)malloc(sizeof(WaitOrderListHead));

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pWaitOrderListHead&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppWaitOrderListHead-&gtpWaitOrderList&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppWaitOrderListHead-&gtwaitNo&nbsp=&nbsp0;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppWaitOrderListHead-&gtcurrent&nbsp=&nbsp0;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppWaitOrderListHead-&gtpCurrentWaitOrderList&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspAlloc_WaitOrderListHead()\n");

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbsppWaitOrderListHead;

</br>
}

</br>


</br>
STATUS&nbspAddOrderList(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspOrderList&nbsp*pOrderList,

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspAirlineList&nbsp*pAirlineList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspOrderList&nbsp*pNewOrderList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspAddOrderList()\n");

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pAirlineList-&gtpAirline-&gtlastTicketNo&nbsp&lt&nbsppOrderList-&gtcustomer.needSeatNo)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspAddOrderList():lastTicketNo&nbsp&lt&nbspneedSeatNo\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_FALSE;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtlastTicketNo&nbsp-=&nbsppOrderList-&gtcustomer.needSeatNo;

</br>
&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpOrderListHead-&gtorderNo&nbsp+=&nbsp1;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsppNewOrderList&nbsp=&nbsppAirlineList-&gtpAirline-&gtpOrderListHead-&gtpOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pNewOrderList&nbsp==&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpOrderListHead-&gtpOrderList&nbsp=&nbsppOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspAddOrderList():pNewOrderList&nbsp==&nbspNULL\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_OK;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspwhile&nbsp(pNewOrderList-&gtpNextOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewOrderList&nbsp=&nbsppNewOrderList-&gtpNextOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsppNewOrderList-&gtpNextOrderList&nbsp=&nbsppOrderList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspAddOrderList()\n");

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_OK;

</br>
}

</br>


</br>
OrderList&nbsp*Alloc_OrderList(

</br>
&nbsp&nbsp&nbsp&nbspvoid

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspOrderList&nbsp*pOrderList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspAlloc_OrderList()\n");

</br>
&nbsp&nbsp&nbsp&nbsppOrderList&nbsp=&nbsp(OrderList&nbsp*)malloc(sizeof(OrderList));

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderList-&gtpNextOrderList&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspAlloc_OrderList()\n");

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbsppOrderList;

</br>
}

</br>


</br>
void&nbspFree_OrderList(

</br>
&nbsp&nbsp&nbsp&nbspOrderList&nbsp*pOrderList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspFree_OrderList()");

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfree(pOrderList);

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspFree_OrderList()");

</br>
}

</br>
void&nbspShowOrderList(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspOrderList&nbsp*pOrderList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspShowOrderList()\n");

</br>
&nbsp&nbsp&nbsp&nbspprintf(

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp"\n*&nbsp乘客姓名:%s,&nbsp乘客订票数量:%d\n",&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&pOrderList-&gtcustomer.customerName[0],

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderList-&gtcustomer.needSeatNo

</br>
&nbsp&nbsp&nbsp&nbsp);

</br>
&nbsp&nbsp&nbsp&nbspprintf(

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp"*&nbsp乘客身份证号:%s\n\n",&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&pOrderList-&gtcustomer.identyNo[0]

</br>
&nbsp&nbsp&nbsp&nbsp);

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspShowOrderList()\n");

</br>
}

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
void&nbspShowAllOrderList(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspAirlineList&nbsp*pAirlineList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspOrderList&nbsp*pOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspShowAllOrderList()\n");

</br>
&nbsp&nbsp&nbsp&nbsppOrderList&nbsp=&nbsppAirlineList-&gtpAirline-&gtpOrderListHead-&gtpOrderList;

</br>
&nbsp&nbsp&nbsp&nbspwhile&nbsp(pOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowOrderList(pOrderList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderList&nbsp=&nbsppOrderList-&gtpNextOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspShowAllOrderList()\n");

</br>
}

</br>


</br>
STATUS&nbspQueryOrderListByIdentyNo(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbsp&nbspchar&nbsp*identyNo,

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbsp&nbspAirlineList&nbsp*pAirlineList,

</br>
&nbsp&nbsp&nbsp&nbsp_OUT&nbspOrderList&nbsp**pPOrderList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspOrderList&nbsp*pOrderList;

</br>
&nbsp&nbsp&nbsp&nbspint&nbspi&nbsp=&nbsp0;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspQueryOrderListByIdentyNo()\n");

</br>
&nbsp&nbsp&nbsp&nbsppOrderList&nbsp=&nbsppAirlineList-&gtpAirline-&gtpOrderListHead-&gtpOrderList;

</br>
&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpOrderListHead-&gtpCurrentOrderList&nbsp=&nbsppOrderList;

</br>
&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpOrderListHead-&gtcurrent&nbsp=&nbsp0;

</br>


</br>
&nbsp&nbsp&nbsp&nbspwhile(pOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspi++;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpOrderListHead-&gtcurrent&nbsp=&nbspi;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpOrderListHead

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp-&gtpCurrentOrderList&nbsp=&nbsppOrderList-&gtpNextOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(strcmp(identyNo,&nbsp&pOrderList-&gtcustomer.identyNo[0])&nbsp==&nbsp0)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp*pPOrderList&nbsp=&nbsppOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspQueryOrderListByIdentyNo():&nbspSTATUS_OK\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_OK;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderList&nbsp=&nbsppOrderList-&gtpNextOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp*pPOrderList&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspQueryOrderListByIdentyNo():&nbspSTATUS_FALSE\n");

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_FALSE;

</br>
}

</br>
STATUS&nbspRemovByPorderList(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspOrderList&nbsp*pOrderList,

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspAirlineList&nbsp*pAirlineList,

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspchar&nbspFLAG

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspOrderList&nbsp*pNewOrderList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspRemovByPorderList()\n");

</br>
&nbsp&nbsp&nbsp&nbsppNewOrderList&nbsp=&nbsppAirlineList-&gtpAirline-&gtpOrderListHead-&gtpOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pNewOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(pOrderList&nbsp==&nbsppNewOrderList)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpOrderListHead-&gtpOrderList&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp=&nbsppOrderList-&gtpNextOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtlastTicketNo&nbsp+=&nbsppOrderList-&gtcustomer.needSeatNo;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpOrderListHead-&gtorderNo&nbsp-=&nbsp1;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(FLAG)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspFree_OrderList(pOrderList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspRemovByPorderList():&nbspHead&nbspis&nbspRemove\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_OK;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspwhile&nbsp(pNewOrderList-&gtpNextOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(pNewOrderList-&gtpNextOrderList&nbsp==&nbsppOrderList)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewOrderList-&gtpNextOrderList&nbsp=&nbsppOrderList-&gtpNextOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtlastTicketNo&nbsp+=&nbsppOrderList-&gtcustomer.needSeatNo;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpOrderListHead-&gtorderNo&nbsp-=&nbsp1;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(FLAG)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspFree_OrderList(pOrderList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_OK;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewOrderList&nbsp=&nbsppNewOrderList-&gtpNextOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspRemovByPorderList():Remove&nbspFlase\n");

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_FALSE;

</br>
}

</br>


</br>
WaitOrderList&nbsp*Alloc_WaitOrderList(

</br>
&nbsp&nbsp&nbsp&nbspvoid

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderList&nbsp*pWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspAlloc_WaitOrderList()\n");

</br>
&nbsp&nbsp&nbsp&nbsppWaitOrderList&nbsp=&nbsp(WaitOrderList&nbsp*)malloc(sizeof(WaitOrderList));

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pWaitOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppWaitOrderList-&gtpNextWaitOrderList&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspAlloc_WaitOrderList()\n");

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbsppWaitOrderList;

</br>
}

</br>


</br>
void&nbspFree_WaitOrderList(

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderList&nbsp*pWaitOrderList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspFree_WaitOrderList()\n");

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pWaitOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfree(pWaitOrderList);

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspFree_WaitOrderList()\n");

</br>
}

</br>


</br>
STATUS&nbspAddWaitOrderList(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspWaitOrderList&nbsp*pWaitOrderList,

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspAirlineList&nbsp*pAirlineList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderList&nbsp*pNewWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspAddWaitOrderList()\n");

</br>
&nbsp&nbsp&nbsp&nbsppNewWaitOrderList&nbsp=&nbsppAirlineList-&gtpAirline-&gtpWaitOrderListHead-&gtpWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpWaitOrderListHead-&gtwaitNo&nbsp+=&nbsp1;

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pNewWaitOrderList&nbsp==&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpWaitOrderListHead-&gtpWaitOrderList&nbsp=&nbsppWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspAddWaitOrderList&nbsppNewWaitOrderList&nbsp=&nbspNULL&nbsp()\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_OK;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspwhile&nbsp(pNewWaitOrderList-&gtpNextWaitOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewWaitOrderList&nbsp=&nbsppNewWaitOrderList-&gtpNextWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsppNewWaitOrderList-&gtpNextWaitOrderList&nbsp=&nbsppWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspAddWaitOrderList&nbsp()\n");

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_OK;

</br>
}

</br>


</br>
void&nbspShowWaitOrderList(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspWaitOrderList&nbsp*pWaitOrderList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspShowOrderList()\n");

</br>
&nbsp&nbsp&nbsp&nbspprintf(

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp"\n*&nbsp乘客姓名:%s,&nbsp乘客需要订票数量:%d\n",&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&pWaitOrderList-&gtwaitCustomer.customerName[0],

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppWaitOrderList-&gtwaitCustomer.needSeatNo

</br>
&nbsp&nbsp&nbsp&nbsp);

</br>
&nbsp&nbsp&nbsp&nbspprintf(

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp"*&nbsp乘客身份证号:%s\n\n",&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&pWaitOrderList-&gtwaitCustomer.identyNo[0]

</br>
&nbsp&nbsp&nbsp&nbsp);

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspShowOrderList()\n");

</br>
}

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
void&nbspShowAllWaitOrderList(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspAirlineList&nbsp*pAirlineList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderList&nbsp*pWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspShowAllWaitOrderList()\n");

</br>
&nbsp&nbsp&nbsp&nbsppWaitOrderList&nbsp=&nbsppAirlineList-&gtpAirline-&gtpWaitOrderListHead-&gtpWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbspwhile&nbsp(pWaitOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowWaitOrderList(pWaitOrderList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppWaitOrderList&nbsp=&nbsppWaitOrderList-&gtpNextWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspShowAllWaitOrderList()\n");

</br>
}

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
STATUS&nbspQueryWaitOrderListByIdentyNo(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbsp&nbspchar&nbsp*identyNo,

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbsp&nbspAirlineList&nbsp*pAirlineList,

</br>
&nbsp&nbsp&nbsp&nbsp_OUT&nbspWaitOrderList&nbsp**pPWaitOrderList

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderList&nbsp*pWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspint&nbspi&nbsp=&nbsp0;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspQueryWaitOrderListByIdentyNo\n");

</br>
&nbsp&nbsp&nbsp&nbsppWaitOrderList&nbsp=&nbsppAirlineList-&gtpAirline-&gtpWaitOrderListHead-&gtpWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpWaitOrderListHead-&gtpCurrentWaitOrderList&nbsp=&nbsppWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpWaitOrderListHead-&gtcurrent&nbsp=&nbsp0;

</br>


</br>
&nbsp&nbsp&nbsp&nbspwhile(pWaitOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspi++;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpWaitOrderListHead-&gtcurrent&nbsp=&nbspi;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpWaitOrderListHead

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp-&gtpCurrentWaitOrderList&nbsp=&nbsppWaitOrderList-&gtpNextWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(strcmp(identyNo,&nbsp&pWaitOrderList-&gtwaitCustomer.identyNo[0])&nbsp==&nbsp0)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp*pPWaitOrderList&nbsp=&nbsppWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_OK;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppWaitOrderList&nbsp=&nbsppWaitOrderList-&gtpNextWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp*pPWaitOrderList&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspQueryWaitOrderListByIdentyNo\n");

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_FALSE;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
}

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
STATUS&nbspRemovByPwaitOrderList(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspWaitOrderList&nbsp*pWaitOrderList,

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspAirlineList&nbsp*pAirlineList,

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspchar&nbspFLAG

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderList&nbsp*pNewWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspRemovByPwaitOrderList\n");

</br>
&nbsp&nbsp&nbsp&nbsppNewWaitOrderList&nbsp=&nbsppAirlineList-&gtpAirline-&gtpWaitOrderListHead-&gtpWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pNewWaitOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(pWaitOrderList&nbsp==&nbsppNewWaitOrderList)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpWaitOrderListHead-&gtpWaitOrderList&nbsp=&nbsppNewWaitOrderList-&gtpNextWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(FLAG)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspFree_WaitOrderList(pWaitOrderList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpWaitOrderListHead-&gtwaitNo&nbsp-=&nbsp1;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_OK;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspwhile&nbsp(pNewWaitOrderList-&gtpNextWaitOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(pNewWaitOrderList-&gtpNextWaitOrderList&nbsp==&nbsppWaitOrderList)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewWaitOrderList-&gtpNextWaitOrderList&nbsp=&nbsppWaitOrderList-&gtpNextWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(FLAG)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspFree_WaitOrderList(pWaitOrderList);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpAirline-&gtpWaitOrderListHead-&gtwaitNo&nbsp-=&nbsp1;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_OK;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewWaitOrderList&nbsp=&nbsppNewWaitOrderList-&gtpNextWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspRemovByPwaitOrderList\n");

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbspSTATUS_FALSE;

</br>
}

</br>


</br>
WaitOrderList&nbsp*GetNextWaitOrderList(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspWaitOrderListHead&nbsp*pWaitOrderListHead

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspWaitOrderList&nbsp*pWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspGetNextWaitOrderList\n");

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp((pWaitOrderList&nbsp=&nbsppWaitOrderListHead-&gtpCurrentWaitOrderList))&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppWaitOrderListHead-&gtcurrent&nbsp+=&nbsp1;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppWaitOrderListHead-&gtpCurrentWaitOrderList&nbsp=&nbsppWaitOrderList-&gtpNextWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspGetNextWaitOrderList\n");

</br>
&nbsp&nbsp&nbsp&nbspreturn&nbsppWaitOrderList;

</br>
}

</br>


</br>
void&nbspWaitOrderListHeadInitPistion(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspWaitOrderListHead&nbsp*pWaitOrderListHead

</br>
&nbsp&nbsp&nbsp&nbsp)

</br>
{

</br>
&nbsp&nbsp&nbsp&nbspprintlog("In&nbspLesskWaitOrderListInit\n");

</br>
&nbsp&nbsp&nbsp&nbsppWaitOrderListHead-&gtcurrent&nbsp=&nbsp0;

</br>
&nbsp&nbsp&nbsp&nbsppWaitOrderListHead-&gtpCurrentWaitOrderList&nbsp=&nbsppWaitOrderListHead-&gtpWaitOrderList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("Out&nbspLesskWaitOrderListInit\n");

</br>
}
</br>

	</font>
</code>

</body>
