<head>
	<title>
		C:\Users\maojun\Desktop\Build\DataStruct\src\ars.c
	</title>
</head>

<body bgcolor="	#B0E0E6">

<code>
	<font color="black" face="Consolas">
#include&nbsp&ltstdio.h&gt

</br>
#include&nbsp&ltstdlib.h&gt

</br>


</br>
#include&nbsp"ars.h"

</br>
static&nbspconst&nbspchar&nbspWeekStr[][]&nbsp=&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp"一",

</br>
&nbsp&nbsp&nbsp&nbsp"二",

</br>
&nbsp&nbsp&nbsp&nbsp"三",

</br>
&nbsp&nbsp&nbsp&nbsp"四",

</br>
&nbsp&nbsp&nbsp&nbsp"五",

</br>
&nbsp&nbsp&nbsp&nbsp"六",

</br>
&nbsp&nbsp&nbsp&nbsp"日"

</br>
};

</br>
//&nbsppAirlineList&nbspis&nbspthe&nbspglobal&nbspvar&nbspto&nbspsave&nbspthe&nbspAirlineList&nbspaddress.

</br>
static&nbspPAirlineList&nbsppAirlineList&nbsp=&nbspNULL;

</br>


</br>
/**

</br>
&nbsp*&nbsp&nbspMust&nbspkeep&nbspthat&nbspthe&nbspPAirline&nbspis&nbsplocal&nbspat&nbspthe&nbspheap&nbsp

</br>
&nbsp*&nbsp&nbspbut&nbspnot&nbspin&nbspthe&nbsplocal&nbspcalling&nbspargument&nbspstack.

</br>
&nbsp*

</br>
&nbsp*/

</br>
void&nbspAddToAirlineList(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspPAirline

</br>
)

</br>


</br>
{

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pAirlineList&nbsp==&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirlineList&nbsp=&nbsp(PAirlineList)malloc(sizeof(AirlineList));

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(pAirlineList&nbsp==&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspprintlog("*&nbspAddToAirline():pAirlineList&nbspinit&nbspfail()\n");

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspexit(-1);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpPirline&nbsp=&nbspPAirline;

</br>
&nbsp&nbsp&nbsp&nbsppAirlineList-&gtpNextAirlineList&nbsp=&nbspNULL;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
}

</br>


</br>
void&nbspQuerryALLAirlineList(

</br>
&nbsp&nbsp&nbsp&nbspvoid

</br>
)

</br>


</br>
{

</br>
&nbsp&nbsp&nbsp&nbspPAirline&nbsppNewAirline&nbsp;

</br>
&nbsp&nbsp&nbsp&nbspPAirlineList&nbsppNewAirlineList&nbsp=&nbsppAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspprintlog("*&nbspIn&nbspQuerryALLAirlineList()\n");

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbspwhile&nbsp(pNewAirlineList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewAirline&nbsp=&nbsppNewAirlineList-&gtpAirline;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowAirline(pNewAirline);

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspprintlog("*&nbspOut&nbspQuerryALLAirlineList()\n");

</br>
}

</br>


</br>
void&nbspQuerryAirlineListByTname&nbsp(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspchar&nbsp*tName

</br>
)

</br>


</br>
{

</br>
&nbsp&nbsp&nbsp&nbspPAirlineList&nbsppNewAirlineList&nbsp=&nbsppAirlineList;

</br>
&nbsp&nbsp&nbsp&nbspwhile&nbsp(pNewAirlineList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(strcmp(&pNewAirlineList-&gtterminalStationName[0],&nbsptName)&nbsp==&nbsp0)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspShowAirline(pNewAirlineList-&gtpAirline);

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppNewAirlineList&nbsp=&nbsppNewAirlineList-&gtpNextAirlineList;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
}

</br>


</br>


</br>


</br>
static&nbspvoid&nbspShowAirline(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspPAirline&nbsppAirline

</br>
)&nbsp

</br>


</br>
{

</br>
&nbsp&nbsp&nbsp&nbspprintf("航班号:%d,&nbsp飞机号:%d,&nbsp星期:&nbsp%s,&nbsp余票额:&nbsp%d\n",&nbsppAirline-&gtflightNo,&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirline-&gtairplaneNo,&nbspWeekStr[(int)pAirline-&gtweek],&nbsppAirline-&gtlastTicketNo);

</br>
&nbsp&nbsp&nbsp&nbsp

</br>
}

</br>


</br>
static&nbspvoid&nbspAddToOrderList(

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspPAirline&nbsppAirline,

</br>
&nbsp&nbsp&nbsp&nbsp_IN&nbspPOrderList&nbsppOrderList

</br>
)

</br>


</br>
{

</br>
&nbsp&nbsp&nbsp&nbspPOrderList&nbsppNewOrderList;

</br>
&nbsp&nbsp&nbsp&nbspPOrderList&nbsppFrontOrderList;

</br>
&nbsp&nbsp&nbsp&nbspPOrderList&nbsppOrderListHead&nbsp=&nbsppAirline-&gtpOrderList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("*&nbspIn&nbspAddToOrderList()");

</br>
&nbsp&nbsp&nbsp&nbspif&nbsp(pOrderListHead&nbsp==&nbspNULL&nbsp||&nbspstrcmp(&pOrderList-&gtcustomerNmae[0],&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&pOrderListHead-&gtcustomerNmae[0])&nbsp&lt&nbsp0)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppAirline-&gtpOrderList&nbsp=&nbsppOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderList-&gtpNextOrderList&nbsp=&nbsppOrderListHead;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbspwhile&nbsp(pOrderListHead-&gtpNextOrderList&nbsp!=&nbspNULL)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(strcmp(&pOrderList-&gtcustomerNmae[0],&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&pOrderListHead-&gtpNextOrderList-&gtcustomerNmae[0])&nbsp&lt&nbsp0)&nbsp{

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderList-&gtpNextOrderList&nbsp=&nbsppOrderListHead-&gtpNextOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderListHead-&gtpNextOrderList&nbsp=&nbsppOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn;

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppOrderListHead&nbsp=&nbsppOrderListHead-&gtpNextOrderList;

</br>
&nbsp&nbsp&nbsp&nbsp}

</br>
&nbsp&nbsp&nbsp&nbsppOrderListHead-&gtpNextOrderList&nbsp=&nbsppOrderList;

</br>
&nbsp&nbsp&nbsp&nbspprintlog("*&nbspOut&nbspAddToOrderList()");

</br>
}

</br>


</br>


</br>


</br>

	</font>
</code>

</body>
